(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{405:function(s,e,t){"use strict";t.r(e);var a=t(2),r=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("blockquote",[e("p",[s._v("js中replace加正则在某些场景在可以简化字符串截取操作，事半功倍。")])]),s._v(" "),e("h2",{attrs:{id:"背景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[s._v("#")]),s._v(" 背景")]),s._v(" "),e("p",[s._v("在对服务端返回到报错话术ResponseMsg：‘ERROR0391，您的登陆信息已失效’这段话术进行过滤，需要删除掉报错码，前端反显‘您的登陆信息已失效’。")]),s._v(" "),e("p",[s._v("我的做法是用indexOf方法查询ResponseMsg是否包含ResponseCode‘ERROR0391’，如果存在再用字符串截取方法slice截取掉前10位，只留话术，审核代码的时候却被告知这样比较麻烦。")]),s._v(" "),e("h2",{attrs:{id:"优化方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优化方案"}},[s._v("#")]),s._v(" 优化方案")]),s._v(" "),e("p",[s._v("已知报错码值固定9位，前五位固定大写ERROR，后四位数字，那么使用"),e("code",[s._v("ResponseMsg.replace(/^[A-Z]{5}[0-9]{4}，/, '')")]),s._v("即可，"),e("strong",[s._v("^表示开头，[A-Z]{5}表示5位A-Z的大写字母，[0-9]{4}，表示0-9的4位数字以及后面的逗号")]),s._v("，如果匹配到了则换成空串。")]),s._v(" "),e("div",{staticClass:"language-console line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("'ERROR0391,您的登陆信息已失效'.replace(/^[A-Z]{5}[0-9]{4},/, '') // 输入代码\n'您的登陆信息已失效'  // 打印信息\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),e("p",[s._v("很多检索再截取的数据方法场景，如果数据存在规律，可以直接使用"),e("strong",[s._v("replace方法，第一个参数传入正则表达式，第二个参数为被替换的内容")]),s._v("从而一步到位。")])])}),[],!1,null,null,null);e.default=r.exports}}]);