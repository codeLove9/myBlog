(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{467:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("作为一个前端开发工程师，熟练掌握JS这门语言是必须要的。无论是日常的工作中，亦或者是出去面试找工作，JS掌握的多深多好，很大程度上决定了你能走的多远。今天本人就来介绍一下JS的原型以及原型链，基于本人的一些认识。")])]),t._v(" "),s("h2",{attrs:{id:"js原型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js原型"}},[t._v("#")]),t._v(" JS原型")]),t._v(" "),s("p",[t._v("众所周知，JS的复杂类型都是对象类型（"),s("strong",[t._v("Object")]),t._v("），而JS不是一门完全面向对象编程的语言，所以如何涉及继承机制，就是一个问题。")]),t._v(" "),s("h3",{attrs:{id:"构造函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构造函数"}},[t._v("#")]),t._v(" 构造函数")]),t._v(" "),s("p",[t._v("因为JS中没有类（"),s("strong",[t._v("Class")]),t._v("）这个概念，所以JS的设计者使用了"),s("code",[t._v("构造函数")]),t._v("来实现继承机制。")]),t._v(" "),s("blockquote",[s("p",[t._v("ES6中的"),s("code",[t._v("Class")]),t._v("可以看作只是一个语法糖，它的绝大部分的功能，ES5都可以做到，新的"),s("code",[t._v("Class")]),t._v("写法只是让原型的写法更加的清晰、更像面向对象编程的语法而已。下文也会进一步的说明。（摘自阮一峰的ES6入门）")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构造函数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Person")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生成实例")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zhangsan'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("如上述代码所示，JS通过"),s("code",[t._v("构造函数")]),t._v("来生成"),s("code",[t._v("实例")]),t._v("。但是又出现了一个新的问题，在"),s("code",[t._v("构造函数")]),t._v("中通过"),s("code",[t._v("this")]),t._v("赋值的属性或者方法，是每个实例的"),s("code",[t._v("实例属性")]),t._v("以及"),s("code",[t._v("实例方法")]),t._v("，无法共享公共属性。所以又设计出了一个"),s("code",[t._v("原型对象")]),t._v("，来存储这个"),s("code",[t._v("构造函数")]),t._v("的公共属性以及方法。")]),t._v(" "),s("h3",{attrs:{id:"补充知识-构造函数创建一个实例的过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充知识-构造函数创建一个实例的过程"}},[t._v("#")]),t._v(" 补充知识：构造函数创建一个实例的过程")]),t._v(" "),s("ol",[s("li",[t._v("创建一个新对象")]),t._v(" "),s("li",[t._v("将构造函数的作用域赋值给新对象（这样this就指向了新对象）")]),t._v(" "),s("li",[t._v("执行构造函数中的代码（为新对象添加实例属性和实例方法）")]),t._v(" "),s("li",[t._v("返回新对象")])]),t._v(" "),s("h3",{attrs:{id:"原型对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原型对象"}},[t._v("#")]),t._v(" 原型对象")]),t._v(" "),s("p",[t._v("说了这么久，终于说到了JS的"),s("code",[t._v("原型对象")]),t._v("了。JS的每个函数在创建的时候，都会生成一个属性"),s("code",[t._v("prototype")]),t._v("，这个属性指向一个对象，这个对象就是此函数的"),s("code",[t._v("原型对象")]),t._v("。该"),s("code",[t._v("原型对象")]),t._v("中有个属性为"),s("code",[t._v("constructor")]),t._v("，指向该函数。这样"),s("code",[t._v("原型对象")]),t._v("和"),s("code",[t._v("它的函数")]),t._v("之间就产生了联系。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f5aaae37b7094aaaad14daa910c61775~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp",alt:"image.png"}})]),t._v(" "),s("h2",{attrs:{id:"js原型链"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js原型链"}},[t._v("#")]),t._v(" JS原型链")]),t._v(" "),s("p",[t._v("讲清楚了JS的"),s("code",[t._v("原型对象")]),t._v("，来就是介绍JS的"),s("code",[t._v("原型链")]),t._v("了。既然有了"),s("code",[t._v("构造函数")]),t._v("，那么就可以通过该"),s("code",[t._v("构造函数")]),t._v("，来创建一个实例对象了。此时，完善一下我们的"),s("code",[t._v("Preson")]),t._v("构造函数")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构造函数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Preson")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所有实例共享的公共方法")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Preson")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("say")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("word")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("说：")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("word"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Preson")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个Person实例对象")]),t._v("\n    p1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'say'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false 说明不是定义在其本身上的")]),t._v("\n    p1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用公共方法 打印：张三说：hello world")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[t._v("这里就要思考了，为什么我们构造的"),s("code",[t._v("p1")]),t._v("这个"),s("code",[t._v("实例对象")]),t._v("，它可以调用到"),s("code",[t._v("Person")]),t._v("这个"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("上的方法呢？明明只有在"),s("code",[t._v("构造函数")]),t._v("内部通过"),s("code",[t._v("this")]),t._v("来赋值的属性或者方法才会被实例所继承，为什么在"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("上定义的"),s("code",[t._v("say")]),t._v("方法也能通过实例来调用到呢？这里就引出了"),s("code",[t._v("原型链")]),t._v("这个概念。")]),t._v(" "),s("h3",{attrs:{id:"proto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proto"}},[t._v("#")]),t._v(" _"),s("em",[t._v("proto")]),t._v("_")]),t._v(" "),s("p",[t._v("每个通过"),s("code",[t._v("构造函数")]),t._v("创建出来的"),s("code",[t._v("实例对象")]),t._v("，其本身有个属性"),s("code",[t._v("__proto__")]),t._v("，这个属性会指向该"),s("code",[t._v("实例对象")]),t._v("的"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("，这么说好像有点绕，我们看下图")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1141452b532f4e9cab03ba48f58beade~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp",alt:"image.png"}})]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("__proto__")]),t._v(" 并不是语言本身的特性，这是各大厂商具体实现时添加的"),s("code",[t._v("私有属性")]),t._v("，虽然目前很多现代浏览器的 JS 引擎中都提供了这个私有属性，但依旧不建议在生产中使用该属性，避免对环境产生依赖。生产环境中，我们可以使用 Object.getPrototypeOf 方法来获取实例对象的原型，然后再来为原型添加方法/属性。（摘自阮一峰的ES6入门）")])]),t._v(" "),s("p",[t._v("现在我们知道了，当访问一个"),s("code",[t._v("对象")]),t._v("的某个属性时，会先在这个对象本身属性上查找，如果没有找到，则会通过它的"),s("code",[t._v("__proto__")]),t._v("隐式属性，找到它的"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("，如果还没有找到就会再在其"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("prototype")]),t._v("的"),s("code",[t._v("__proto__")]),t._v("中查找，这样一层一层向上查找就会形成一个链式结构，我们称为"),s("code",[t._v("原型链")]),t._v("。")]),t._v(" "),s("p",[s("strong",[t._v("注意点")]),t._v("：如果通过"),s("code",[t._v("p1实例对象")]),t._v("的"),s("code",[t._v("__proto__")]),t._v("属性赋值，则会改变其"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("，从而被所有实例所共享。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构造函数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Preson")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所有实例共享的公共方法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Preson")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("say")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("word")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("说：")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("word"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Preson")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个Person实例对象")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Preson")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'李四'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 新创建一个Proson实例对象")]),t._v("\np1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("say")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用公共方法")]),t._v("\np1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'say'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false 说明不是定义在其本身上的")]),t._v("\np1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("do")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'往原型对象中添加方法'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\np2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("do")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印出了-往原型对象中添加方法")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("blockquote",[s("p",[t._v("所以，我们在开发的时候，要注意不要通过"),s("code",[t._v("实例对象")]),t._v("去改变其"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("，这样会对其他通过该"),s("code",[t._v("构造函数")]),t._v("生成的"),s("code",[t._v("实例对象")]),t._v("造成影响。")])]),t._v(" "),s("p",[t._v("说到这里，有的读者可能又会产生疑问了，再在其"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("prototype")]),t._v("的"),s("code",[t._v("__proto__")]),t._v("中查找是什么意思？我们继续往下看。")]),t._v(" "),s("h3",{attrs:{id:"补充知识-原型链的尽头"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充知识-原型链的尽头"}},[t._v("#")]),t._v(" 补充知识：原型链的尽头")]),t._v(" "),s("p",[t._v("既然我们之前构造的"),s("code",[t._v("p1实例对象")]),t._v("有"),s("code",[t._v("__proto__")]),t._v("属性指向其"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("，那么该"),s("code",[t._v("构造函数")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("有这个"),s("code",[t._v("__proto__")]),t._v("属性吗？如果有，那么其又指向谁呢？我们不妨打印一下。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2750863007534407b542d38ea5259cdf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp",alt:"image.png"}})]),t._v(" "),s("p",[t._v("我们随便创建了一个"),s("code",[t._v("A")]),t._v("的"),s("code",[t._v("构造函数")]),t._v("，通过打印它的"),s("code",[t._v("prototype")]),t._v("属性，我们可以看到，在浏览器中，它有个"),s("code",[t._v("__proto__")]),t._v("属性指向了一个"),s("code",[t._v("Object")]),t._v("对象。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e2cda9bce64b41339f411a9c974000d7~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp",alt:"image.png"}})]),t._v(" "),s("p",[t._v("而进一步展开后，我们会发现，该对象的"),s("code",[t._v("构造函数")]),t._v("为"),s("code",[t._v("function Object")]),t._v("，我们由此可以得知，"),s("strong",[t._v("所有的"),s("code",[t._v("原型对象")]),t._v("的"),s("code",[t._v("__proto__")]),t._v("属性都是指向"),s("code",[t._v("function Object")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("。")]),t._v(" 而"),s("code",[t._v("function Object")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("在上图中我们可以得知是不存在"),s("code",[t._v("__proto__")]),t._v("这个属性的，它指向了"),s("code",[t._v("null")]),t._v("。我们就得知了"),s("code",[t._v("原型链")]),t._v("的尽头是"),s("code",[t._v("null")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"补充知识-所有对象的原型链"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充知识-所有对象的原型链"}},[t._v("#")]),t._v(" 补充知识：所有对象的原型链")]),t._v(" "),s("p",[t._v("既然JS的复杂类型都是"),s("code",[t._v("对象")]),t._v("，那么，函数作为一个"),s("code",[t._v("对象")]),t._v("，是否也存在"),s("code",[t._v("原型链")]),t._v("呢？ 我们在浏览器中创建一个"),s("code",[t._v("构造函数")]),t._v("，打印它的"),s("code",[t._v("__proto__")]),t._v("属性，一探究竟：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/818ed8034ed54aa9aa6591d8be8a70ea~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp",alt:"image.png"}})]),t._v(" "),s("p",[t._v("我们可以看到，它的"),s("code",[t._v("__proto__")]),t._v("属性指向了一个"),s("code",[t._v("function Function")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("，该"),s("code",[t._v("原型对象")]),t._v("为JS中所有函数的"),s("code",[t._v("原型对象")]),t._v("，而其"),s("code",[t._v("__proto__")]),t._v("属性也还是指向了"),s("code",[t._v("function Object")]),t._v("的"),s("code",[t._v("原型对象")]),t._v("，所以验证了"),s("code",[t._v("原型链")]),t._v("的尽头为"),s("code",[t._v("null")]),t._v("，这一说法。")]),t._v(" "),s("p",[t._v("最后，奉上神图一张，祝大家理解JS的"),s("code",[t._v("原型链")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0815c8f7fa544cf4a33fd7defdc6c1f6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp",alt:"image.png"}})]),t._v(" "),s("h2",{attrs:{id:"结语"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[t._v("#")]),t._v(" 结语")]),t._v(" "),s("p",[t._v("通过上面的文章，大概梳理了一下本人对于"),s("code",[t._v("原型")]),t._v("和"),s("code",[t._v("原型链")]),t._v("这一概念的理解，并且尽可能详细的阐述了各个概念的前世今生。因为本人也是个前端菜鸡，写这篇文章的目的除了让大家了解"),s("code",[t._v("原型")]),t._v("和"),s("code",[t._v("原型链")]),t._v("这一概念外，还有就是自己梳理一遍所掌握的知识。如果上文有说的不对或者不好的地方，欢迎大家提出宝贵的意见。")])])}),[],!1,null,null,null);s.default=e.exports}}]);