(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{374:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("接上一篇,我们已经有了个能运行的简易站点,主题目录下仅包含了一个"),a("code",[s._v("Layout.vue")]),s._v("文件,从现在开始我们需要往里面添置东西让主题变得功能完备起来,以下是推荐的目录结构。")])]),s._v(" "),a("h2",{attrs:{id:"约定目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#约定目录"}},[s._v("#")]),s._v(" 约定目录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("theme\n├── assets (资源文件)\n│   ├── images\n│   └── fonts\n├── global-components\n│   └── xxx.vue\n├── components\n│   └── xxx.vue\n├── layouts\n│   ├── Layout.vue (必要的)\n│   └── 404.vue\n├── styles\n│   ├── index.styl\n│   └── palette.styl\n├── templates\n│   ├── dev.html\n│   └── ssr.html\n├── utils (工具函数)\n├── plugin (私有插件)\n├── index.js (入口文件)\n├── enhanceApp.js\n└── package.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("theme/global-components")]),s._v(": 该目录下的组件都会被自动注册为全局组件。想了解更多，请参考 "),a("a",{attrs:{href:"https://github.com/vuejs/vuepress/tree/master/packages/@vuepress/plugin-register-components",target:"_blank",rel:"noopener noreferrer"}},[s._v("@vuepress/plugin-register-components"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("li",[a("code",[s._v("theme/components")]),s._v(": Vue 组件。")]),s._v(" "),a("li",[a("code",[s._v("theme/layouts")]),s._v(": 布局组件，其中  "),a("code",[s._v("Layout.vue")]),s._v(" 是必需的。")]),s._v(" "),a("li",[a("code",[s._v("theme/styles")]),s._v(": 全局的样式和调色板。")]),s._v(" "),a("li",[a("code",[s._v("theme/templates")]),s._v(": 修改默认的模板文件。")]),s._v(" "),a("li",[a("code",[s._v("theme/index.js")]),s._v(": 主题文件的入口文件。")]),s._v(" "),a("li",[a("code",[s._v("theme/enhanceApp.js")]),s._v(": 主题水平的客户端增强文件。")])]),s._v(" "),a("h3",{attrs:{id:"资源文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源文件"}},[s._v("#")]),s._v(" 资源文件")]),s._v(" "),a("p",[s._v("存放字体、图片等主题中用到的资源文件")]),s._v(" "),a("h3",{attrs:{id:"全局组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局组件"}},[s._v("#")]),s._v(" 全局组件")]),s._v(" "),a("p",[s._v("如果你想在 "),a("abbr",{attrs:{title:"这里指文档目录"}},[s._v("主题外部")]),s._v(" 使用组件而不需要额外注册,那么组件就可以放在该目录下")]),s._v(" "),a("h3",{attrs:{id:"主题自带组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主题自带组件"}},[s._v("#")]),s._v(" 主题自带组件")]),s._v(" "),a("p",[s._v("这个和 "),a("abbr",{attrs:{title:"这里指文档目录"}},[s._v("主题外部")]),s._v(" 的components目录有所区别,需要单独注册后方可使用。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 复用主题的Layout组件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Layout "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vuepress-theme-maker/layouts/Layout'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"主题入口文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主题入口文件"}},[s._v("#")]),s._v(" 主题入口文件")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// .vuepress/theme/index.js")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("exports")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("themeConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ctx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("包含了主题本身的一个配置,"),a("code",[s._v("themeConfig")]),s._v("是用户对主题的配置,这里作为参数接收,开发自定义主题的时候可以利用该参数做一些配置的预处理。其实这个和"),a("code",[s._v("VuePress")]),s._v("的设计理念相关，到后面讲插件的时候会做更详细介绍, 我个人在开发主题的过程中觉得这块还是比较容易被混淆的。")]),s._v(" "),a("h3",{attrs:{id:"布局组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#布局组件"}},[s._v("#")]),s._v(" 布局组件")]),s._v(" "),a("p",[s._v("所有的页面将会默认使用 "),a("code",[s._v("Layout.vue")]),s._v(" 作为布局组件，对于那些匹配不到的路由将会使用 404.vue\n如果你想要在某一个页面中使用 "),a("code",[s._v("AnotherLayout.vue")]),s._v(" 作为布局组件，那么你只需要在layouts目录下创建对应组件, 并在具体的页面中 "),a("code",[s._v("frontmatter")]),s._v(" 显示的设置布局组件名称即可。")]),s._v(" "),a("div",{staticClass:"language-md line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-md"}},[a("code",[a("span",{pre:!0,attrs:{class:"token front-matter-block"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token front-matter yaml language-yaml"}},[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("layout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" AnotherLayout")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式"}},[s._v("#")]),s._v(" 样式")]),s._v(" "),a("p",[a("code",[s._v("vuepress")]),s._v(" 默认的是 "),a("code",[s._v("stylus")]),s._v(" 作为css预处理器, 样式一般来说只需写在两个文件下。")]),s._v(" "),a("p",[a("code",[s._v(".vuepress/styles/palette.styl")]),s._v(" 用来定义一系列变量:")]),s._v(" "),a("div",{staticClass:"language-stylus line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-stylus"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 颜色")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$color1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" xxx")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 布局")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sidebarWidth")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token unit"}},[s._v("rem")])]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 响应式变化点")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MQNarrow")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("975")]),a("span",{pre:!0,attrs:{class:"token unit"}},[s._v("px")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MQMobile")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("675")]),a("span",{pre:!0,attrs:{class:"token unit"}},[s._v("px")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MQMobileNarrow")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("359")]),a("span",{pre:!0,attrs:{class:"token unit"}},[s._v("px")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[a("code",[s._v(".vuepress/styles/index.styl")]),s._v(" 用来编写主题样式")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("如果你习惯把样式拆分得更细,当然没问题, "),a("code",[s._v("vuepress")]),s._v("并没有限制。你可以单独编写其它模块，最终引入到"),a("code",[s._v("index.styl")]),s._v("。")])]),s._v(" "),a("h3",{attrs:{id:"templates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#templates"}},[s._v("#")]),s._v(" templates")]),s._v(" "),a("p",[s._v("顾名思义, "),a("code",[s._v("dev.html")]),s._v("是用于开发环境下的 webpack dev server 的模板文件, "),a("code",[s._v("ssr.html")]),s._v("用于最终生成静态页面的模板文件。介绍")]),s._v(" "),a("h3",{attrs:{id:"客户端增强文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端增强文件"}},[s._v("#")]),s._v(" 客户端增强文件")]),s._v(" "),a("p",[s._v("自定义主题也可以通过主题根目录下的 enhanceApp.js 文件来对 VuePress 应用进行拓展配置。这个文件应当 export default 一个钩子函数，并接受一个包含了一些应用级别属性的对象作为参数。你可以使用这个钩子来安装一些附加的 Vue 插件、注册全局组件，或者增加额外的路由钩子等：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// VuePress 正在使用的 Vue 构造函数")]),s._v("\n  options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 附加到根实例的一些选项")]),s._v("\n  router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 当前应用的路由实例")]),s._v("\n  siteData "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 站点元数据")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...做一些其他的应用级别的优化")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"最后"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[s._v("#")]),s._v(" 最后")]),s._v(" "),a("p",[s._v("至此,我们对主题目录下的内容已经有了整体概念,主题女神面纱下的面庞已慢慢变得清晰。")])])}),[],!1,null,null,null);a.default=n.exports}}]);